{"version":3,"sources":["components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","App.js","components/PixabyFetch/PixabyFetch.js","index.js"],"names":["Button","onClick","className","type","ImageGalleryItem","images","map","webformatURL","id","tags","src","alt","ImageGallery","onModalOpen","Loader","Modal","onModalCloseByEsc","onModalClose","onKeyDown","largeImg","useEffect","console","log","document","addEventListener","e","keyCode","propTyppes","PropTypes","func","Searchbar","onSearchFormSubmit","useState","search","setSearch","onSubmit","preventDefault","trim","alert","onChange","target","value","name","autocomplete","autofocus","placeholder","newPixabyFetch","this","_searchQuery","page","url","searchQuery","axios","get","then","result","catch","err","App","setPage","responseData","setResponseData","status","setStatus","modalIsOpen","setModalIsOpen","setLargeImg","window","scrollTo","top","documentElement","behavior","resetPage","searchPhotos","res","data","hits","length","p","finally","found","find","el","toString","largeImageURL","searchPage","prevState","scrollHeight","currentTarget","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b5732c90.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nexport default function Button({onClick}) {\r\n   const hendleClick = () => {\r\n        return onClick(1);\r\n    };\r\n\r\n        return (\r\n            <button onClick = { hendleClick } \r\n                    className = \"Button\" \r\n                    type = \"button\" > Load more</button>\r\n        )\r\n            \r\n    }\r\n\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func,\r\n}","import PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({ images }) {\r\n  return images.map(({ webformatURL, id, tags }) => {\r\n    return (\r\n      <li key={id} className=\"ImageGalleryItem\">\r\n        <img\r\n          id={id}\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.object),\r\n};","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default function ImageGallery({onModalOpen, images}) {\r\n        return (\r\n            <>\r\n                <ul onClick={onModalOpen} className=\"ImageGallery\">\r\n                    <ImageGalleryItem images={images} />\r\n                </ul>\r\n            </>\r\n        );\r\n    }\r\n\r\nImageGallery.propTyppes = {\r\n    onModalOpen: PropTypes.func,\r\n};","export default function Loader() {\r\n    return (\r\n      <div className=\"lds-ellipsis\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    );\r\n  }\r\n","import { useEffect } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Modal({\r\n  onModalCloseByEsc,\r\n  onModalClose,\r\n  onKeyDown,\r\n  largeImg,\r\n}) {\r\n  useEffect(() => {\r\n    console.log('addEventListener');\r\n    document.addEventListener('keyup', e => {\r\n      if (e.keyCode === 27) {\r\n        onModalCloseByEsc();\r\n      }\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div onClick={onModalClose} onKeyDown={onKeyDown} className=\"Overlay\">\r\n      <div className=\"Modal\">\r\n        <img className=\"LargeGalleryImage\" src={largeImg} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onModalClose: PropTypes.func,\r\n  onModalCloseByEsc: PropTypes.func,\r\n  largeImg: PropTypes.string,\r\n};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Searchbar({ onSearchFormSubmit }) {\r\n  const [search, setSearch] = useState('');\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    if (search.trim() !== '') {\r\n      onSearchFormSubmit(search);\r\n      setSearch('');\r\n    } else alert('Add your search query');\r\n  };\r\n  const onChange = e => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={onChange}\r\n          name=\"searh\"\r\n          value={search}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autocomplete=\"off\"\r\n          autofocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};","\nimport { useState, useEffect } from 'react';\nimport Button from './components/Button/Button';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport PixabyFetch from './components/PixabyFetch/PixabyFetch';\nimport Searchbar from './components/Searchbar/Searchbar';\n\nimport './index.css';\n\n\nconst newPixabyFetch = new PixabyFetch();\n\nexport default function App() {\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [responseData, setResponseData] = useState([]);\n  const [status, setStatus] = useState('init');\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [largeImg, setLargeImg] = useState('');\n\n  useEffect(() => {\n    if (search === '') {\n      return;\n    }\n\n    window.scrollTo({\n      top: document.documentElement,\n      behavior: 'smooth',\n    });\n    newPixabyFetch.resetPage();\n    setStatus('pending');\n    setPage(1);\n\n    newPixabyFetch.searchQuery = search;\n    newPixabyFetch\n      .searchPhotos()\n      .then(res => {\n        if (res.data.hits.length !== 0) {\n          setResponseData([...res.data.hits]);\n        } else alert('Nothing to show! Change your search query');\n      })\n      .then(setPage(p => p + 1))\n      .finally(() => {\n        setStatus('success');\n      });\n  }, [search]);\n\n  const onSearchFormSubmit = search => {\n    setSearch(search);\n  };\n\n  const onClick = value => {\n    setStatus('pending');\n    setPage(page + 1);\n\n    newPixabyFetch.searchPage = page;\n    newPixabyFetch\n      .searchPhotos()\n      .then(res => {\n        setResponseData(prevState => [...prevState, ...res.data.hits]);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setStatus('success');\n        window.scrollTo({\n          top: document.documentElement.scrollHeight - 1200,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  const onModalOpen = e => {\n    const found = responseData.find(el => el.id.toString() === e.target.id);\n\n    setModalIsOpen(!modalIsOpen);\n    setLargeImg(found.largeImageURL);\n  };\n\n  const onModalClose = e => {\n    if (\n      e.target.className === 'Overlay' &&\n      e.currentTarget.className === 'Overlay'\n    ) {\n      setModalIsOpen(!modalIsOpen);\n    }\n  };\n\n  const onModalCloseByEsc = () => {\n    setModalIsOpen(false);\n  };\n\n  return (\n    <>\n      <Searchbar onSearchFormSubmit={onSearchFormSubmit} />\n      <ImageGallery images={responseData} onModalOpen={onModalOpen} />\n      {status === 'pending' && <Loader />}\n      {responseData.length > 0 && <Button onClick={onClick} />}\n      {modalIsOpen && (\n        <Modal\n          onModalClose={onModalClose}\n          onModalCloseByEsc={onModalCloseByEsc}\n          largeImg={largeImg}\n        />\n      )}\n    </>\n  );\n}\n\n\n","// key 23221080-2cf2140e9411e0421a0100dec\r\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nimport axios from 'axios';\r\n\r\nexport default class PixabayFetch {\r\n  constructor() {\r\n    this._searchQuery = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  get searchQuery() {\r\n    return this._searchQuery;\r\n  }\r\n  set searchQuery(value) {\r\n    return (this._searchQuery = value);\r\n  }\r\n\r\n  get searchPage() {\r\n    return this.page;\r\n  }\r\n\r\n  set searchPage(value) {\r\n    return (this.page = value);\r\n  }\r\n\r\n  resetPage() {\r\n    return (this.page = 1);\r\n  }\r\n\r\n  searchPhotos() {\r\n    const base_url = 'https://pixabay.com/api/';\r\n    const api_key = '23221080-2cf2140e9411e0421a0100dec';\r\n\r\n    const params = `?q=${this.searchQuery}&page=${this.page}&per_page=12&image_type=photo&orientation=horizontal&key=${api_key}`;\r\n    const url = base_url + params;\r\n\r\n    return axios\r\n      .get(url)\r\n      .then(result => {\r\n        return result;\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}